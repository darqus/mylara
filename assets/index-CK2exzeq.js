const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingLayout-Dm39PDRt.js","assets/vendor-4cnWJq__.js","assets/vendor-DdHoLVHB.css","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/firebase-vendor-DF-ErlKL.js","assets/HomePage-Dy1W0LET.js","assets/seo.service-DNeoGyzK.js","assets/firestore.service-DVoyk11_.js","assets/HomePage-ByuzsZqm.css","assets/ErrorNotFoundPage-B0h0efxB.js","assets/AdminLoginPage-DXQmVuys.js","assets/AdminLayout-eFnmuq3M.js","assets/admin-config.service-PhUJWde6.js","assets/AdminDashboardPage-CLXMEBXu.js","assets/AdminDashboardPage-YtpbPr6I.css","assets/AdminCollectionPage-C-QGBTik.js","assets/AdminCollectionPage-DXY__fAY.css","assets/seo-BmWfrDbZ.js"])))=>i.map(i=>d[i]);
import{c as v,r as T,d as w,a as D,u as L,b as N,e as M,f as C,g as U,h as F,i as B,w as k,Q as Y,m as W,M as H,N as $,l as j,j as q}from"./vendor-4cnWJq__.js";import{i as K,g as J,a as Q,b as z,o as x,f as G,s as X,h as Z}from"./firebase-vendor-DF-ErlKL.js";const ee=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),te=function(a){return"/"+a},g={},p=function(e,n,s){let t=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),r=l?.nonce||l?.getAttribute("nonce");t=Promise.allSettled(n.map(o=>{if(o=te(o),o in g)return;g[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":ee,c||(u.as="script"),u.crossOrigin="",u.href=o,r&&u.setAttribute("nonce",r),document.head.appendChild(u),c)return new Promise((i,E)=>{u.addEventListener("load",i),u.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${o}`)))})}))}function _(l){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l}return t.then(l=>{for(const r of l||[])r.status==="rejected"&&_(r.reason);return e().catch(_)})},S={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_HOST:"https://api.mylara.ru/api",VITE_API_DOMAIN:"api.mylara.ru",VITE_API_PORT:"",VITE_API_VERSION:"1",VITE_APP_BASE:"/",VITE_APP_VERSION:"0.1.38",VITE_BUILD_DATE:"05.07.2025 14:45:53",VITE_DARK:"false",VITE_DESCRIPTION:"Инновационная косметика по уходу за лицом от MYLARA. Натуральные ингредиенты и эффективные формулы для вашей красоты.",VITE_DOMAIN:"mylara.ru",VITE_FIREBASE_API_KEY:"AIzaSyCYxI-u9jWIl-obR8FmvOXOh91sYD29toQ",VITE_FIREBASE_APP_ID:"1:890771851225:web:bf606c67130d45fbc3fbc8",VITE_FIREBASE_AUTH_DOMAIN:"mylara-landing.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-JYDX2J8JMZ",VITE_FIREBASE_MESSAGING_SENDER_ID:"890771851225",VITE_FIREBASE_PROJECT_ID:"mylara-landing",VITE_FIREBASE_STORAGE_BUCKET:"mylara-landing.firebasestorage.app",VITE_HTTPS_HOST:"https://api.mylara.ru",VITE_HTTPS_PROTOCOL:"https:",VITE_KEYWORDS:"косметика, уход за лицом, натуральная косметика, MYLARA, красота",VITE_NAME_FULL:"MYLARA",VITE_NAME_FULL_EN:"MYLARA",VITE_NAME_SHORT:"mylara-landing",VITE_ROUTER_BASE:"/",VITE_WS_HOST:"ws://api.mylara.ru",VITE_WS_PROTOCOL:"ws:"},f=(a,e="")=>typeof import.meta<"u"&&S?S[a]??e:e,re=f("VITE_NAME_FULL","MYLARA");f("VITE_REDIRECT_PATH","");f("VITE_REDIRECT_PATH_DEV","");const ye=f("VITE_DESCRIPTION",""),ae=f("VITE_KEYWORDS",""),ne=f("VITE_ROUTER_BASE","/");f("VITE_APP_BASE","/");f("VITE_API_HOST","");f("VITE_API_BASE_HOST","");new Date().getFullYear();const m={NAME:{APP:re,DESCRIPTION:"description",KEYWORDS:"keywords"},KEYWORDS:ae,NOSCRIPT:{default:"Это содержимое для браузеров без JS (или с отключенным JS)"},EQUIV:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}},oe={VITE_APP_VERSION:"0.1.38",VITE_BUILD_DATE:"05.07.2025 14:45:53",VITE_DESCRIPTION:"Инновационная косметика по уходу за лицом от MYLARA. Натуральные ингредиенты и эффективные формулы для вашей красоты.",VITE_NAME_FULL:"MYLARA"},{VITE_NAME_FULL:se,VITE_DESCRIPTION:h,VITE_APP_VERSION:ie,VITE_BUILD_DATE:ce}=oe,le=`${se} | ${h}`,Ve=h,Oe=ie,be=ce,ue={title:le,meta:{description:{name:m.NAME.DESCRIPTION,content:h},keywords:{name:m.NAME.KEYWORDS,content:h},robots:{name:"robots",content:"noindex"},equiv:m.EQUIV,noscript:m.NOSCRIPT}},P={apiKey:"AIzaSyCYxI-u9jWIl-obR8FmvOXOh91sYD29toQ",authDomain:"mylara-landing.firebaseapp.com",projectId:"mylara-landing",storageBucket:"mylara-landing.firebasestorage.app",messagingSenderId:"890771851225",appId:"1:890771851225:web:bf606c67130d45fbc3fbc8"};let I,V,O,_e;try{P.projectId||console.warn("Firebase projectId is undefined. Using offline mode only."),I=K(P),V=J(I),O=Q(I),_e=z(I)}catch(a){console.error("Error initializing Firebase:",a)}const ve=()=>V,A=()=>O;function Ee(){return{currentUser:T(null),loading:T(!1),initializing:T(!0)}}let y=null;function b(){y??=Ee();const{currentUser:a,loading:e,initializing:n}=y,s=v(()=>a.value!==null);function t(){const c=A();if(!c){console.warn("Firebase Auth не инициализирован"),n.value=!1;return}x(c,d=>{a.value=d,e.value=!1,n.value=!1})}async function _(c,d){const u=A();if(!u)return{success:!1,error:"Firebase Auth не инициализирован"};e.value=!0;try{const i=await Z(u,c,d);return a.value=i.user,{success:!0}}catch(i){let E="Произошла ошибка при входе";if(i&&typeof i=="object"&&"code"in i)switch(i.code){case"auth/user-not-found":E="Пользователь не найден";break;case"auth/wrong-password":E="Неверный пароль";break;case"auth/invalid-email":E="Неверный формат email";break;case"auth/user-disabled":E="Пользователь заблокирован";break;case"auth/too-many-requests":E="Слишком много попыток входа. Попробуйте позже";break;default:console.error("Login error:",i)}else console.error("Login error:",i);return{success:!1,error:E}}finally{e.value=!1}}async function l(c,d){const u=A();if(!u)return{success:!1,error:"Firebase Auth не инициализирован"};e.value=!0;try{const i=await G(u,c,d);return a.value=i.user,{success:!0}}catch(i){let E="Произошла ошибка при регистрации";if(i&&typeof i=="object"&&"code"in i)switch(i.code){case"auth/email-already-in-use":E="Пользователь с таким email уже существует";break;case"auth/invalid-email":E="Неверный формат email";break;case"auth/weak-password":E="Пароль слишком слабый";break;default:console.error("Registration error:",i)}else console.error("Registration error:",i);return{success:!1,error:E}}finally{e.value=!1}}async function r(){const c=A();if(!c)return{success:!1,error:"Firebase Auth не инициализирован"};e.value=!0;try{return await X(c),a.value=null,{success:!0}}catch(d){return console.error("Logout error:",d),{success:!1,error:"Произошла ошибка при выходе"}}finally{e.value=!1}}function o(){return s.value}return{currentUser:a,isAuthenticated:s,loading:e,initializing:n,login:_,logout:r,register:l,checkAuth:o,initAuth:t}}const de=Object.freeze(Object.defineProperty({__proto__:null,useAdminAuth:b},Symbol.toStringTag,{value:"Module"})),pe=w({name:"App",__name:"App",setup(a){const{initAuth:e}=b();return D(()=>{e()}),L(ue),(n,s)=>{const t=N("router-view");return C(),M(t)}}}),fe=[{path:ne,component:async()=>await p(()=>import("./LandingLayout-Dm39PDRt.js"),__vite__mapDeps([0,1,2,3,4])),children:[{path:"",component:async()=>await p(()=>import("./HomePage-Dy1W0LET.js"),__vite__mapDeps([5,1,2,6,7,4,8]))},{path:":catchAll(.*)*",component:async()=>await p(()=>import("./ErrorNotFoundPage-B0h0efxB.js"),__vite__mapDeps([9,1,2,6,4]))}]},{path:"/admin",children:[{path:"login",component:async()=>await p(()=>import("./AdminLoginPage-DXQmVuys.js"),__vite__mapDeps([10,1,2,4]))},{path:"",component:async()=>await p(()=>import("./AdminLayout-eFnmuq3M.js"),__vite__mapDeps([11,1,2,12,4])),children:[{path:"",component:async()=>await p(()=>import("./AdminDashboardPage-CLXMEBXu.js"),__vite__mapDeps([13,1,2,12,7,4,3,14]))},{path:"collection/:collection",component:async()=>await p(()=>import("./AdminCollectionPage-C-QGBTik.js"),__vite__mapDeps([15,1,2,4,3,12,7,16]))}]}]}],R=U(function(){const e=F({scrollBehavior:(n,s,t)=>t||{left:0,top:0},routes:fe,history:B("/")});return e.beforeEach(async(n,s,t)=>{if(n.path.startsWith("/admin")&&n.path!=="/admin/login"){const{useAdminAuth:_}=await p(async()=>{const{useAdminAuth:o}=await Promise.resolve().then(()=>de);return{useAdminAuth:o}},void 0),{isAuthenticated:l,initializing:r}=_();if(r.value){const o=k(()=>r.value,c=>{c||(o(),l.value?t():t({path:"/admin/login",query:{redirect:n.fullPath}}))});return}if(!l.value){t({path:"/admin/login",query:{redirect:n.fullPath}});return}}t()}),e.afterEach(n=>{setTimeout(()=>{const t=document.querySelector("#q-app")?.__vue_app__;if(t?.config?.globalProperties?.$updateCanonicalUrl&&t.config.globalProperties.$updateCanonicalUrl(n.fullPath),t?.config?.globalProperties?.$addJsonLd){const _={"@context":"https://schema.org","@type":"WebPage",url:window.location.href,name:document.title,description:document.querySelector('meta[name="description"]')?.getAttribute("content")??""};t.config.globalProperties.$addJsonLd(_)}},0)}),e});async function me(a,e){const n=a(pe);n.use(Y,e);const s=W(typeof R=="function"?await R({}):R);return{app:n,router:s}}const Ie={config:{},lang:j,plugins:{Notify:$,Meta:H}},Ae="/";async function he({app:a,router:e},n){let s=!1;const t=r=>{try{return e.resolve(r).href}catch{}return Object(r)===r?null:r},_=r=>{if(s=!0,typeof r=="string"&&/^https?:\/\//.test(r)){window.location.href=r;return}const o=t(r);o!==null&&(window.location.href=o)},l=window.location.href.replace(window.location.origin,"");for(let r=0;s===!1&&r<n.length;r++)try{await n[r]({app:a,router:e,ssrContext:null,redirect:_,urlPath:l,publicPath:Ae})}catch(o){if(o&&o.url){_(o.url);return}console.error("[Quasar] boot error:",o);return}s!==!0&&(a.use(e),a.mount("#q-app"))}me(q,Ie).then(a=>{const[e,n]=Promise.allSettled!==void 0?["allSettled",s=>s.map(t=>{if(t.status==="rejected"){console.error("[Quasar] boot error:",t.reason);return}return t.value.default})]:["all",s=>s.map(t=>t.default)];return Promise[e]([p(()=>import("./seo-BmWfrDbZ.js"),__vite__mapDeps([17,1,2]))]).then(s=>{const t=n(s).filter(_=>typeof _=="function");he(a,t)})});export{Oe as A,be as B,Ve as D,m as M,le as T,ae as V,ye as a,A as b,ve as g,b as u};
