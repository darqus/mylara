import{d as $,o as B,aL as D,am as K,ab as F,aJ as N,g as I,w as Q,aK as J,D as R,b0 as S,r as _,aj as Z,aA as x,h as U,c as ee,b1 as te,b2 as oe,b3 as le,P as m,ah as d,V as ne,b4 as re,i as ie,b5 as se}from"./index-Bft1CDkT.js";import{b as ae,a as ue,h as ce}from"./use-timeout-CXTqsQYR.js";const Pe={dark:{type:Boolean,default:null}};function ye(e,t){return $(()=>e.dark===null?t.dark.isActive:e.dark)}function Te(e,t,l){let o;function r(){o!==void 0&&(D.remove(o),o=void 0)}return B(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){o={condition:()=>l.value===!0,handler:t},D.add(o)}}}function Se(){let e;const t=I();function l(){e=void 0}return K(l),B(l),{removeTick:l,registerTick(o){e=o,F(()=>{e===o&&(N(t)===!1&&e(),e=void 0)})}}}const Ve={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},qe=["beforeShow","show","beforeHide","hide"];function Ee({showing:e,canShow:t,hideOnRouteChange:l,handleShow:o,handleHide:r,processOnMount:a}){const i=I(),{props:s,emit:u,proxy:y}=i;let c;function h(n){e.value===!0?q(n):w(n)}function w(n){if(s.disable===!0||n?.qAnchorHandled===!0||t!==void 0&&t(n)!==!0)return;const v=s["onUpdate:modelValue"]!==void 0;v===!0&&(u("update:modelValue",!0),c=n,F(()=>{c===n&&(c=void 0)})),(s.modelValue===null||v===!1)&&C(n)}function C(n){e.value!==!0&&(e.value=!0,u("beforeShow",n),o!==void 0?o(n):u("show",n))}function q(n){if(s.disable===!0)return;const v=s["onUpdate:modelValue"]!==void 0;v===!0&&(u("update:modelValue",!1),c=n,F(()=>{c===n&&(c=void 0)})),(s.modelValue===null||v===!1)&&k(n)}function k(n){e.value!==!1&&(e.value=!1,u("beforeHide",n),r!==void 0?r(n):u("hide",n))}function M(n){s.disable===!0&&n===!0?s["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!1):n===!0!==e.value&&(n===!0?C:k)(c)}Q(()=>s.modelValue,M),l!==void 0&&J(i)===!0&&Q(()=>y.$route.fullPath,()=>{l.value===!0&&e.value===!0&&q()}),a===!0&&R(()=>{M(s.modelValue)});const A={show:w,hide:q,toggle:h};return Object.assign(y,A),A}const Le={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function He(e,t=()=>{},l=()=>{}){return{transitionProps:$(()=>{const o=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:$(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let p=[],P=[];function O(e){P=P.filter(t=>t!==e)}function de(e){O(e),P.push(e)}function W(e){O(e),P.length===0&&p.length!==0&&(p[p.length-1](),p=[])}function $e(e){P.length===0?e():p.push(e)}function Fe(e){p=p.filter(t=>t!==e)}const V=[];function Ce(e){return V.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function fe(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return S(e)}else if(e.__qPortal===!0){const l=S(e);return l?.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=S(e)}while(e!=null)}function ke(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=fe(e,t);continue}e.hide(t)}e=S(e)}}const pe=ee({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function ve(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Me(e,t,l,o){const r=_(!1),a=_(!1);let i=null;const s={},u=o==="dialog"&&ve(e);function y(h){if(h===!0){W(s),a.value=!0;return}a.value=!1,r.value===!1&&(u===!1&&i===null&&(i=oe(!1,o)),r.value=!0,V.push(e.proxy),de(s))}function c(h){if(a.value=!1,h!==!0)return;W(s),r.value=!1;const w=V.indexOf(e.proxy);w!==-1&&V.splice(w,1),i!==null&&(le(i),i=null)}return Z(()=>{c(!0)}),e.proxy.__qPortal=!0,x(e.proxy,"contentEl",()=>t.value),{showPortal:y,hidePortal:c,portalIsActive:r,portalIsAccessible:a,renderPortal:()=>u===!0?l():r.value===!0?[U(te,{to:i},U(pe,l))]:void 0}}let g=0,E,L,b,H=!1,j,G,X,f=null;function me(e){he(e)&&ne(e)}function he(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=re(e),l=e.shiftKey&&!e.deltaX,o=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),r=l||o?e.deltaY:e.deltaX;for(let a=0;a<t.length;a++){const i=t[a];if(ce(i,o))return o?r<0&&i.scrollTop===0?!0:r>0&&i.scrollTop+i.clientHeight===i.scrollHeight:r<0&&i.scrollLeft===0?!0:r>0&&i.scrollLeft+i.clientWidth===i.scrollWidth}return!0}function Y(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function T(e){H!==!0&&(H=!0,requestAnimationFrame(()=>{H=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:o}=document.scrollingElement;(b===void 0||t!==window.innerHeight)&&(b=l-t,document.scrollingElement.scrollTop=o),o>b&&(document.scrollingElement.scrollTop-=Math.ceil((o-b)/8))}))}function z(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:r}=window.getComputedStyle(t);E=ae(window),L=ue(window),j=t.style.left,G=t.style.top,X=window.location.href,t.style.left=`-${E}px`,t.style.top=`-${L}px`,r!=="hidden"&&(r==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,m.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",T,d.passiveCapture),window.visualViewport.addEventListener("scroll",T,d.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Y,d.passiveCapture))}m.is.desktop===!0&&m.is.mac===!0&&window[`${e}EventListener`]("wheel",me,d.notPassive),e==="remove"&&(m.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",T,d.passiveCapture),window.visualViewport.removeEventListener("scroll",T,d.passiveCapture)):window.removeEventListener("scroll",Y,d.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=j,t.style.top=G,window.location.href===X&&window.scrollTo(E,L),b=void 0)}function we(e){let t="add";if(e===!0){if(g++,f!==null){clearTimeout(f),f=null;return}if(g>1)return}else{if(g===0||(g--,g>0))return;if(t="remove",m.is.ios===!0&&m.is.nativeMobile===!0){f!==null&&clearTimeout(f),f=setTimeout(()=>{z(t),f=null},100);return}}z(t)}function Ae(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,we(t))}}}function De(){return ie(se)}export{Pe as a,ye as b,ke as c,He as d,De as e,qe as f,Ce as g,Ve as h,Ee as i,Te as j,Ae as k,Se as l,Me as m,fe as n,$e as o,V as p,Fe as r,Le as u};
