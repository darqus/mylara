const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingLayout-Ce3pktrv.js","assets/vendor-CZl8qdfD.js","assets/vendor-DdHoLVHB.css","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/firebase-vendor-DtqfmKDn.js","assets/HomePage-DwTvOI1r.js","assets/seo.service-D3cth46b.js","assets/firestore.service-BdR6RSrq.js","assets/HomePage-ByuzsZqm.css","assets/ErrorNotFoundPage-DdraCu0Y.js","assets/AdminLoginPage-mSiIwFPU.js","assets/AdminLayout-DQkE0akd.js","assets/admin-config.service-PhUJWde6.js","assets/AdminDashboardPage-DwJB3yVL.js","assets/AdminDashboardPage-D79qwHmi.css","assets/AdminCollectionPage-B1ZuPBCO.js","assets/AdminCollectionPage-C3aMKGFd.css","assets/seo-D_ASq-ai.js"])))=>i.map(i=>d[i]);
import{c as v,r as T,d as D,a as w,u as L,b as N,e as M,f as C,w as U,g as F,h as B,i as k,Q as Y,m as W,M as H,N as $,l as q,j}from"./vendor-CZl8qdfD.js";import{i as K,g as J,a as Q,b as z,o as x,f as G,s as X,h as Z}from"./firebase-vendor-DtqfmKDn.js";const ee=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),te=function(t){return"/"+t},g={},f=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),a=_?.nonce||_?.getAttribute("nonce");r=Promise.allSettled(n.map(s=>{if(s=te(s),s in g)return;g[s]=!0;const c=s.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${p}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":ee,c||(l.as="script"),l.crossOrigin="",l.href=s,a&&l.setAttribute("nonce",a),document.head.appendChild(l),c)return new Promise((i,E)=>{l.addEventListener("load",i),l.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(_){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=_,window.dispatchEvent(a),!a.defaultPrevented)throw _}return r.then(_=>{for(const a of _||[])a.status==="rejected"&&u(a.reason);return e().catch(u)})},S={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_HOST:"https://api.mylara.ru/api",VITE_API_DOMAIN:"api.mylara.ru",VITE_API_PORT:"",VITE_API_VERSION:"1",VITE_APP_BASE:"/",VITE_APP_VERSION:"0.1.41",VITE_BUILD_DATE:"05.07.2025 16:12:46",VITE_DARK:"false",VITE_DESCRIPTION:"Инновационная косметика по уходу за лицом от MYLARA. Натуральные ингредиенты и эффективные формулы для вашей красоты.",VITE_DOMAIN:"mylara.ru",VITE_FIREBASE_API_KEY:"AIzaSyCYxI-u9jWIl-obR8FmvOXOh91sYD29toQ",VITE_FIREBASE_APP_ID:"1:890771851225:web:bf606c67130d45fbc3fbc8",VITE_FIREBASE_AUTH_DOMAIN:"mylara-landing.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-JYDX2J8JMZ",VITE_FIREBASE_MESSAGING_SENDER_ID:"890771851225",VITE_FIREBASE_PROJECT_ID:"mylara-landing",VITE_FIREBASE_STORAGE_BUCKET:"mylara-landing.firebasestorage.app",VITE_HTTPS_HOST:"https://api.mylara.ru",VITE_HTTPS_PROTOCOL:"https:",VITE_KEYWORDS:"косметика, уход за лицом, натуральная косметика, MYLARA, красота",VITE_NAME_FULL:"MYLARA",VITE_NAME_FULL_EN:"MYLARA",VITE_NAME_SHORT:"mylara-landing",VITE_ROUTER_BASE:"/",VITE_WS_HOST:"ws://api.mylara.ru",VITE_WS_PROTOCOL:"ws:"},d=(t,e="")=>typeof import.meta<"u"&&S?S[t]??e:e,re=d("VITE_NAME_FULL","MYLARA");d("VITE_REDIRECT_PATH","");d("VITE_REDIRECT_PATH_DEV","");const Ve=d("VITE_DESCRIPTION",""),ae=d("VITE_KEYWORDS",""),ne=d("VITE_ROUTER_BASE","/");d("VITE_APP_BASE","/");d("VITE_API_HOST","");d("VITE_API_BASE_HOST","");const ye=d("VITE_APP_VERSION","0.1.39");new Date().getFullYear();const m={NAME:{APP:re,DESCRIPTION:"description",KEYWORDS:"keywords"},KEYWORDS:ae,NOSCRIPT:{default:"Это содержимое для браузеров без JS (или с отключенным JS)"},EQUIV:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}},oe={VITE_APP_VERSION:"0.1.41",VITE_BUILD_DATE:"05.07.2025 16:12:46",VITE_DESCRIPTION:"Инновационная косметика по уходу за лицом от MYLARA. Натуральные ингредиенты и эффективные формулы для вашей красоты.",VITE_NAME_FULL:"MYLARA"},{VITE_NAME_FULL:se,VITE_DESCRIPTION:A,VITE_APP_VERSION:ie,VITE_BUILD_DATE:ce}=oe,le=`${se} | ${A}`,Oe=A,be=ie,ve=ce,ue={title:le,meta:{description:{name:m.NAME.DESCRIPTION,content:A},keywords:{name:m.NAME.KEYWORDS,content:A},robots:{name:"robots",content:"noindex"},equiv:m.EQUIV,noscript:m.NOSCRIPT}},P={apiKey:"AIzaSyCYxI-u9jWIl-obR8FmvOXOh91sYD29toQ",authDomain:"mylara-landing.firebaseapp.com",projectId:"mylara-landing",storageBucket:"mylara-landing.firebasestorage.app",messagingSenderId:"890771851225",appId:"1:890771851225:web:bf606c67130d45fbc3fbc8"};let I,y,O,_e;try{P.projectId||console.warn("Firebase projectId is undefined. Using offline mode only."),I=K(P),y=J(I),O=Q(I),_e=z(I)}catch(t){console.error("Error initializing Firebase:",t)}const De=()=>y,h=()=>O;function Ee(){return{currentUser:T(null),loading:T(!1),initializing:T(!0)}}let V=null;function b(){V??=Ee();const{currentUser:t,loading:e,initializing:n}=V,o=v(()=>t.value!==null);function r(){const c=h();if(!c){console.warn("Firebase Auth не инициализирован"),n.value=!1;return}x(c,p=>{t.value=p,e.value=!1,n.value=!1})}async function u(c,p){const l=h();if(!l)return{success:!1,error:"Firebase Auth не инициализирован"};e.value=!0;try{const i=await Z(l,c,p);return t.value=i.user,{success:!0}}catch(i){let E="Произошла ошибка при входе";if(i&&typeof i=="object"&&"code"in i)switch(i.code){case"auth/user-not-found":E="Пользователь не найден";break;case"auth/wrong-password":E="Неверный пароль";break;case"auth/invalid-email":E="Неверный формат email";break;case"auth/user-disabled":E="Пользователь заблокирован";break;case"auth/too-many-requests":E="Слишком много попыток входа. Попробуйте позже";break;default:console.error("Login error:",i)}else console.error("Login error:",i);return{success:!1,error:E}}finally{e.value=!1}}async function _(c,p){const l=h();if(!l)return{success:!1,error:"Firebase Auth не инициализирован"};e.value=!0;try{const i=await G(l,c,p);return t.value=i.user,{success:!0}}catch(i){let E="Произошла ошибка при регистрации";if(i&&typeof i=="object"&&"code"in i)switch(i.code){case"auth/email-already-in-use":E="Пользователь с таким email уже существует";break;case"auth/invalid-email":E="Неверный формат email";break;case"auth/weak-password":E="Пароль слишком слабый";break;default:console.error("Registration error:",i)}else console.error("Registration error:",i);return{success:!1,error:E}}finally{e.value=!1}}async function a(){const c=h();if(!c)return{success:!1,error:"Firebase Auth не инициализирован"};e.value=!0;try{return await X(c),t.value=null,{success:!0}}catch(p){return console.error("Logout error:",p),{success:!1,error:"Произошла ошибка при выходе"}}finally{e.value=!1}}function s(){return o.value}return{currentUser:t,isAuthenticated:o,loading:e,initializing:n,login:u,logout:a,register:_,checkAuth:s,initAuth:r}}const de=D({name:"App",__name:"App",setup(t){const{initAuth:e}=b();return w(()=>{e()}),L(ue),(n,o)=>{const r=N("router-view");return C(),M(r)}}});function pe(t,e,n){if(t.path.startsWith("/admin")&&t.path!=="/admin/login"){const{isAuthenticated:o,initializing:r}=b();if(r.value){const u=U(()=>r.value,_=>{_||(u(),o.value?n():n({path:"/admin/login",query:{redirect:t.path==="/admin"?"/admin":t.fullPath}}))},{immediate:!1});return}if(!o.value){n({path:"/admin/login",query:{redirect:t.path==="/admin"?"/admin":t.fullPath}});return}}n()}const fe=[{path:ne,component:async()=>await f(()=>import("./LandingLayout-Ce3pktrv.js"),__vite__mapDeps([0,1,2,3,4])),children:[{path:"",component:async()=>await f(()=>import("./HomePage-DwTvOI1r.js"),__vite__mapDeps([5,1,2,6,7,4,8]))},{path:":catchAll(.*)*",component:async()=>await f(()=>import("./ErrorNotFoundPage-DdraCu0Y.js"),__vite__mapDeps([9,1,2,6,4]))}]},{path:"/admin",children:[{path:"login",component:async()=>await f(()=>import("./AdminLoginPage-mSiIwFPU.js"),__vite__mapDeps([10,1,2,4]))},{path:"",component:async()=>await f(()=>import("./AdminLayout-DQkE0akd.js"),__vite__mapDeps([11,1,2,12,4])),children:[{path:"",component:async()=>await f(()=>import("./AdminDashboardPage-DwJB3yVL.js"),__vite__mapDeps([13,1,2,12,7,4,3,14]))},{path:"collection/:collection",component:async()=>await f(()=>import("./AdminCollectionPage-B1ZuPBCO.js"),__vite__mapDeps([15,1,2,4,3,12,7,16]))}]}]}],R=F(function(){const e=B({scrollBehavior:(n,o,r)=>r||{left:0,top:0},routes:fe,history:k("/")});return e.beforeEach(pe),e.afterEach(n=>{setTimeout(()=>{const r=document.querySelector("#q-app")?.__vue_app__;if(r?.config?.globalProperties?.$updateCanonicalUrl&&r.config.globalProperties.$updateCanonicalUrl(n.fullPath),r?.config?.globalProperties?.$addJsonLd){const u={"@context":"https://schema.org","@type":"WebPage",url:window.location.href,name:document.title,description:document.querySelector('meta[name="description"]')?.getAttribute("content")??""};r.config.globalProperties.$addJsonLd(u)}},0)}),e});async function me(t,e){const n=t(de);n.use(Y,e);const o=W(typeof R=="function"?await R({}):R);return{app:n,router:o}}const Ie={config:{},lang:q,plugins:{Notify:$,Meta:H}},he="/";async function Ae({app:t,router:e},n){let o=!1;const r=a=>{try{return e.resolve(a).href}catch{}return Object(a)===a?null:a},u=a=>{if(o=!0,typeof a=="string"&&/^https?:\/\//.test(a)){window.location.href=a;return}const s=r(a);s!==null&&(window.location.href=s)},_=window.location.href.replace(window.location.origin,"");for(let a=0;o===!1&&a<n.length;a++)try{await n[a]({app:t,router:e,ssrContext:null,redirect:u,urlPath:_,publicPath:he})}catch(s){if(s&&s.url){u(s.url);return}console.error("[Quasar] boot error:",s);return}o!==!0&&(t.use(e),t.mount("#q-app"))}me(j,Ie).then(t=>{const[e,n]=Promise.allSettled!==void 0?["allSettled",o=>o.map(r=>{if(r.status==="rejected"){console.error("[Quasar] boot error:",r.reason);return}return r.value.default})]:["all",o=>o.map(r=>r.default)];return Promise[e]([f(()=>import("./seo-D_ASq-ai.js"),__vite__mapDeps([17,1,2]))]).then(o=>{const r=n(o).filter(u=>typeof u=="function");Ae(t,r)})});export{be as A,ve as B,Oe as D,m as M,le as T,ae as V,Ve as a,ye as b,h as c,De as g,b as u};
