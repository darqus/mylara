# Админка для управления базой данных

Админка предоставляет веб-интерфейс для управления коллекциями Firebase Firestore с возможностями создания, редактирования и удаления записей.

## Особенности

- ✅ CRUD операции для любых коллекций
- ✅ Настраиваемые формы и таблицы
- ✅ Валидация данных
- ✅ Массовые операции
- ✅ Поиск и фильтрация
- ✅ Простая аутентификация
- ✅ Адаптивный дизайн

## Доступ к админке

1. Перейдите по адресу `/admin`
2. Введите пароль: `admin123`
3. Выберите коллекцию для управления

## Настройка коллекций

Конфигурация коллекций находится в файле `src/services/admin-config.service.ts`.

### Добавление новой коллекции

```typescript
export const collectionsConfig: Record<string, CollectionConfig> = {
  // ... существующие коллекции

  myCollection: {
    name: 'myCollection',
    label: 'Моя коллекция',
    icon: 'star',
    searchable: true,
    sortable: true,
    fields: [
      {
        name: 'title',
        label: 'Заголовок',
        type: 'text',
        required: true,
        placeholder: 'Введите заголовок',
      },
      // ... другие поля
    ],
    columns: [
      {
        name: 'title',
        label: 'Заголовок',
        field: 'title',
        required: true,
        align: 'left',
        sortable: true,
      },
      // ... другие колонки
    ],
  },
}
```

### Типы полей

- `text` - Текстовое поле
- `textarea` - Многострочное текстовое поле
- `number` - Числовое поле
- `email` - Email поле с валидацией
- `url` - URL поле с валидацией
- `date` - Поле даты
- `boolean` - Чекбокс

### Примеры данных

Для тестирования админки созданы три примера коллекций:

1. **Продукты** (`/admin/collection/products`)
   - Название, описание, цена, категория
   - Статус наличия, изображение

2. **Статьи** (`/admin/collection/articles`)
   - Заголовок, содержание, автор
   - Статус публикации, дата, теги

3. **Пользователи** (`/admin/collection/users`)
   - Email, имя, телефон
   - Роль, статус активности

## Структура файлов

```
src/
├── components/admin/
│   ├── AdminMenuItem.vue          # Пункт меню
│   └── AdminFormDialog.vue        # Диалог создания/редактирования
├── composables/
│   ├── useAdminAuth.ts           # Аутентификация
│   └── useAdminCollection.ts     # Работа с коллекциями
├── layouts/
│   └── AdminLayout.vue           # Основной layout
├── pages/admin/
│   ├── AdminLoginPage.vue        # Страница входа
│   ├── AdminDashboardPage.vue    # Главная страница
│   └── AdminCollectionPage.vue   # Управление коллекцией
├── services/
│   └── admin-config.service.ts   # Конфигурация коллекций
└── types/
    └── admin.ts                  # Типы для админки
```

## Безопасность

⚠️ **Важно**: Текущая реализация использует простую аутентификацию по паролю для демонстрации. В продакшене необходимо:

1. Интегрировать с Firebase Authentication
2. Добавить роли и права доступа
3. Использовать Security Rules для Firestore
4. Добавить HTTPS и другие меры безопасности

## Расширение функциональности

### Добавление новых типов полей

1. Добавьте тип в `FormField['type']` в `src/types/admin.ts`
2. Добавьте обработку в `AdminFormDialog.vue`
3. При необходимости добавьте валидацию

### Кастомные компоненты

Вы можете создать кастомные компоненты для сложных типов данных и интегрировать их в `AdminFormDialog.vue`.

### API интеграция

Для интеграции с внешними API измените методы в `firestoreService` или создайте отдельный сервис.

## Использование

### Создание записи

1. Выберите коллекцию
2. Нажмите "Создать запись"
3. Заполните форму
4. Нажмите "Сохранить"

### Редактирование записи

1. Найдите запись в таблице
2. Нажмите кнопку "Редактировать" (иконка карандаша)
3. Внесите изменения
4. Нажмите "Сохранить"

### Удаление записей

1. Выберите записи в таблице (чекбоксы)
2. Нажмите "Удалить" или используйте кнопку удаления для отдельной записи
3. Подтвердите удаление

### Поиск и фильтрация

- Используйте поле поиска для фильтрации записей
- Кликните по заголовкам колонок для сортировки
